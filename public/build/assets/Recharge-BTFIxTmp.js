import{r as t,j as e}from"./app-B6LG9V_e.js";import{m as N,as as v,at as R,au as S,av as C,aw as w,ax as E,ay as O,g as F}from"./layout-BRksI4cZ.js";import{C as m,b as u,c as h,d as x,a as p}from"./card-CudBIojk.js";import{L as l,I as j,B as L,g as T,h as V}from"./apis-BzeLdW_T.js";import"./createLucideIcon-BrM2DDzr.js";const $=[{number:"9876543210",operator:"Airtel",amount:"$25",status:"Success",date:"2024-01-15"},{number:"9876543211",operator:"Jio",amount:"$30",status:"Success",date:"2024-01-14"},{number:"9876543212",operator:"Vi",amount:"$20",status:"Failed",date:"2024-01-13"}];function A({operators:r}){const[n,o]=t.useState(""),[a,g]=t.useState(""),[c,f]=t.useState(""),[i,d]=t.useState(!1),b=async()=>{if(!n||!a||!c){alert("Please fill all fields");return}try{d(!0);const s=await T({canumber:n,operator:a,amount:c});console.log("Recharge Response:",s.data),alert("Recharge request sent successfully!")}catch(s){console.error("Recharge error:",s),alert("Something went wrong while processing your recharge.")}finally{d(!1)}};return e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Recharge Services"}),e.jsx("p",{className:"text-muted-foreground",children:"Mobile"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(h,{children:"Quick Recharge"}),e.jsx(x,{children:"Recharge mobile"})]}),e.jsx(p,{children:e.jsx(v,{defaultValue:"mobile",className:"w-full",children:e.jsxs(R,{value:"mobile",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"mobile",children:"Mobile Number"}),e.jsx(j,{id:"mobile",placeholder:"Enter mobile number",value:n,onChange:s=>o(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"operator",children:"Operator"}),e.jsxs(S,{onValueChange:s=>g(s),children:[e.jsx(C,{children:e.jsx(w,{placeholder:"Select operator"})}),e.jsx(E,{children:r&&r.length>0?r.map(s=>e.jsx(O,{value:s.id,children:s.name},s.id)):e.jsx("div",{className:"text-center py-2 text-sm text-muted-foreground",children:"No operators found"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"dth-amount",children:"Amount"}),e.jsx(j,{id:"dth-amount",placeholder:"Enter amount",value:c,onChange:s=>f(s.target.value)})]}),e.jsx(L,{className:"w-full",onClick:b,disabled:i,children:i?"Processing...":"Recharge Now"})]})})})]}),e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(h,{children:"Recent Recharges"}),e.jsx(x,{children:"Your recent recharge transactions"})]}),e.jsx(p,{children:e.jsx("div",{className:"space-y-4",children:$.map((s,y)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.number}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.operator," â€¢ ",s.date]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:s.amount}),e.jsx("p",{className:`text-sm ${s.status==="Success"?"text-green-600":"text-red-600"}`,children:s.status})]})]},y))})})]})]})]})}function q(){const[r,n]=t.useState([]);return t.useEffect(()=>{(async()=>{try{const a=await V();n(a?.data?.data?.data)}catch(a){console.error("Error fetching operators:",a)}})()},[]),e.jsx(F,{title:"Recharge",children:e.jsx(A,{operators:r})})}export{q as default};
